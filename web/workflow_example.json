{
	"info": {
		"name": "Customer Support Workflow",
		"version": "1.0.0",
		"author": "marco@numel.app",
		"description": "Simple customer support workflow with decision routing"
	},
	"nodes": [
		{
			"id": "start",
			"type": "start",
			"label": "Start",
			"position": {"x": 100, "y": 100}
		},
		{
			"id": "get_input",
			"type": "user_input",
			"label": "Get Query",
			"config": {
				"prompt": "Please describe your issue:",
				"timeout": 300
			},
			"position": {"x": 100, "y": 250}
		},
		{
			"id": "analyze",
			"type": "transform",
			"label": "Analyze Query",
			"config": {
				"type": "python",
				"script": "category = 'general'\nif 'password' in str(input).lower():\n    category = 'technical'\nelif 'payment' in str(input).lower():\n    category = 'billing'\noutput = {'query': input, 'category': category}"
			},
			"position": {"x": 100, "y": 400}
		},
		{
			"id": "route",
			"type": "decision",
			"label": "Route by Category",
			"config": {
				"condition_field": "category",
				"branches": {
					"technical": 4,
					"billing": 5,
					"general": 6
				}
			},
			"position": {"x": 100, "y": 550}
		},
		{
			"id": "tech_agent",
			"type": "agent",
			"label": "Technical Support",
			"config": {
				"agent": 0
			},
			"position": {"x": -150, "y": 700}
		},
		{
			"id": "billing_agent",
			"type": "agent",
			"label": "Billing Support",
			"config": {
				"agent": 0
			},
			"position": {"x": 100, "y": 700}
		},
		{
			"id": "general_agent",
			"type": "agent",
			"label": "General Support",
			"config": {
				"agent": 0
			},
			"position": {"x": 350, "y": 700}
		},
		{
			"id": "merge",
			"type": "merge",
			"label": "Merge Responses",
			"config": {
				"strategy": "first"
			},
			"position": {"x": 100, "y": 850}
		},
		{
			"id": "end",
			"type": "end",
			"label": "End",
			"position": {"x": 100, "y": 1000}
		}
	],
	"edges": [
		{
			"source": 0,
			"target": 1,
			"source_slot": "output",
			"target_slot": "input",
			"label": "Initialize"
		},
		{
			"source": 1,
			"target": 2,
			"source_slot": "output",
			"target_slot": "input",
			"label": "Query received"
		},
		{
			"source": 2,
			"target": 3,
			"source_slot": "output",
			"target_slot": "input",
			"label": "Analyzed"
		},
		{
			"source": 3,
			"target": 4,
			"source_slot": "technical",
			"target_slot": "input",
			"filter": "data.get('matched') == True",
			"label": "Technical"
		},
		{
			"source": 3,
			"target": 5,
			"source_slot": "billing",
			"target_slot": "input",
			"filter": "data.get('matched') == True",
			"label": "Billing"
		},
		{
			"source": 3,
			"target": 6,
			"source_slot": "general",
			"target_slot": "input",
			"filter": "data.get('matched') == True",
			"label": "General"
		},
		{
			"source": 4,
			"target": 7,
			"source_slot": "output",
			"target_slot": "input_0",
			"label": "Tech response"
		},
		{
			"source": 5,
			"target": 7,
			"source_slot": "output",
			"target_slot": "input_1",
			"label": "Billing response"
		},
		{
			"source": 6,
			"target": 7,
			"source_slot": "output",
			"target_slot": "input_2",
			"label": "General response"
		},
		{
			"source": 7,
			"target": 8,
			"source_slot": "output",
			"target_slot": "input",
			"label": "Merged"
		}
	],
	"variables": {}
}
