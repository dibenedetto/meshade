{
	"info": {
		"name": "Customer Support Workflow",
		"version": "1.0.0",
		"author": "marco@numel.app",
		"description": "Automated customer support workflow with decision branches"
	},
	"options": {},
	"nodes": [
		{
			"id": "start_1",
			"type": "start",
			"label": "Start",
			"position": {"x": 100, "y": 50},
			"data": {
				"customer_query": "",
				"priority": "normal"
			}
		},
		{
			"id": "input_1",
			"type": "user_input",
			"label": "Get Customer Query",
			"position": {"x": 100, "y": 150},
			"prompt_text": "Please describe your issue:",
			"timeout": 300
		},
		{
			"id": "agent_1",
			"type": "agent",
			"label": "Analyze Query",
			"position": {"x": 100, "y": 250},
			"agent": 0,
			"input_mapping": {
				"query": "customer_query"
			},
			"output_mapping": {
				"category": "agent_output.category",
				"sentiment": "agent_output.sentiment"
			}
		},
		{
			"id": "decision_1",
			"type": "decision",
			"label": "Route by Category",
			"position": {"x": 100, "y": 350},
			"condition_field": "category",
			"branches": {
				"technical": "technical",
				"billing": "billing",
				"general": "general"
			}
		},
		{
			"id": "agent_tech",
			"type": "agent",
			"label": "Technical Support",
			"position": {"x": -100, "y": 450},
			"agent": 0,
			"input_mapping": {
				"query": "customer_query",
				"category": "category"
			}
		},
		{
			"id": "agent_billing",
			"type": "agent",
			"label": "Billing Support",
			"position": {"x": 100, "y": 450},
			"agent": 0,
			"input_mapping": {
				"query": "customer_query",
				"category": "category"
			}
		},
		{
			"id": "agent_general",
			"type": "agent",
			"label": "General Support",
			"position": {"x": 300, "y": 450},
			"agent": 0,
			"input_mapping": {
				"query": "customer_query",
				"category": "category"
			}
		},
		{
			"id": "merge_1",
			"type": "merge",
			"label": "Merge Responses",
			"position": {"x": 100, "y": 550},
			"strategy": "first"
		},
		{
			"id": "transform_1",
			"type": "transform",
			"label": "Format Response",
			"position": {"x": 100, "y": 650},
			"transform_type": "python",
			"transform_script": "output = f\"Response: {input.get('response', 'No response')}\\nCategory: {input.get('category', 'unknown')}\"",
			"input_mapping": {
				"response": "agent_output",
				"category": "category"
			}
		},
		{
			"id": "end_1",
			"type": "end",
			"label": "End",
			"position": {"x": 100, "y": 750},
			"output_mapping": {
				"final_response": "transform_output"
			}
		}
	],
	"edges": [
		{
			"id": "edge_1",
			"source": "start_1",
			"target": "input_1"
		},
		{
			"id": "edge_2",
			"source": "input_1",
			"target": "agent_1"
		},
		{
			"id": "edge_3",
			"source": "agent_1",
			"target": "decision_1"
		},
		{
			"id": "edge_4",
			"source": "decision_1",
			"target": "agent_tech",
			"condition": {
				"type": "equals",
				"field": "category",
				"value": "technical"
			},
			"label": "Technical"
		},
		{
			"id": "edge_5",
			"source": "decision_1",
			"target": "agent_billing",
			"condition": {
				"type": "equals",
				"field": "category",
				"value": "billing"
			},
			"label": "Billing"
		},
		{
			"id": "edge_6",
			"source": "decision_1",
			"target": "agent_general",
			"condition": {
				"type": "equals",
				"field": "category",
				"value": "general"
			},
			"label": "General"
		},
		{
			"id": "edge_7",
			"source": "agent_tech",
			"target": "merge_1"
		},
		{
			"id": "edge_8",
			"source": "agent_billing",
			"target": "merge_1"
		},
		{
			"id": "edge_9",
			"source": "agent_general",
			"target": "merge_1"
		},
		{
			"id": "edge_10",
			"source": "merge_1",
			"target": "transform_1"
		},
		{
			"id": "edge_11",
			"source": "transform_1",
			"target": "end_1"
		}
	],
	"variables": {
		"max_retries": 3,
		"timeout": 300
	}
}
